@inherits LayoutComponentBase
@inject NavigationManager NavigationManager
@inject SWEPP.Services.CustomerService CustomerService

<div class="layout-wrapper" style="display: flex; flex-direction: column; height: 100vh;">
    <div class="header" style="background-color: #f8f9fa; box-shadow: 0 4px 2px -2px gray; padding: 10px;">
        <div class="company-name">
            <h1 style="margin: 0; font-size: 24px; color: #343a40;">Golden Crust Pizza</h1>
        </div>
        <div class="welcome-message">
            @if (CustomerService.LoggedInCustomer != null)
            {
                <span style="font-size: 16px; font-weight: bold;">Welcome, @CustomerService.LoggedInCustomer.Name!</span>
                <button @onclick="Logout" style="background-color: #f44336; color: white; border: none; padding: 5px 10px; cursor: pointer;">Log Out</button>
            }
        </div>
    </div>

    <!-- Include the NavMenu directly under the header -->
    <NavMenu /> <!-- Banner Navigation -->

    <div class="main-content" style="flex-grow: 1; padding: 20px;">
        <main>
            @Body <!-- This is where the content of each page will be rendered -->
        </main>
    </div>
</div>

@code {
    void Logout()
    {
        CustomerService.Logout();
        NavigationManager.NavigateTo("/");
    }
}

<style>
    .layout-wrapper {
        display: flex;
        flex-direction: column; /* Stack header and main content vertically */
        height: 100vh; /* Full height of the viewport */
    }

    .header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px;
        background-color: #f8f9fa;
        box-shadow: 0 4px 2px -2px gray;
    }

    .company-name h1 {
        margin: 0;
        font-size: 24px;
        color: #343a40; /* Dark text color */
    }

    .welcome-message {
        display: flex;
        align-items: center;
        gap: 10px;
    }

        .welcome-message span {
            font-size: 16px;
            font-weight: bold;
        }

        .welcome-message button {
            background-color: #f44336;
            color: white;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
        }

            .welcome-message button:hover {
                background-color: #d32f2f;
            }

    .main-content {
        flex-grow: 1; /* Fill the remaining space */
        padding: 20px;
        text-align: center;
    }
</style>
